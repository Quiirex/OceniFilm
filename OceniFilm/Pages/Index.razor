@page "/"
@using OceniFilm.Models.Videoteka
@using OceniFilm.Services

<CardDeck>
    <Row Gutter="(32, 32)">
        @if(videoteka != null)
        {
            @foreach(var film in videoteka)
            {
                <Column ColumnSize="ColumnSize.Is4">
                    <FilmCard 
                        poster="@film.Poster" 
                        imdbOcena="@film.ImdbOcena" 
                        mojaOcena=1
                        naslov="@film.Naslov" 
                        letoIzdaje="@film.LetoIzdaje"
                        seznamZanrov="@film.SeznamZanrov"
                        seznamIgralcev="@film.SeznamIgralcev"
                        napovednikUrl="@film.Napovednik"/>
                </Column>
            }
        }
    </Row>
</CardDeck>

@code {
    [Inject]
    public IFilmService FilmService { get; set; }

    public IEnumerable<Film> videoteka { get; set; }

    protected override async Task OnInitializedAsync()
    {
        videoteka = await FilmService.GetFilmiAsync();
    }
}